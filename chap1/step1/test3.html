<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>

    <div id="msg"></div>

    <script type="text/javascript">
      function echo(message) {
        return message;
      }

      function h1(message) {
        return `<h1>${message}</h1>`;
      }

      function addToDom(elementId) {
        let id = `#${elementId}`;
        return id;
      }

      function run(id, h1, echo) {
        return function (message) {
          document.querySelector(id).innerHTML = h1(echo(message));
        };
        // 리턴 함수에서 외부 스코프의 id 문자열, h1, echo 함수를
        // 사용한다. 따라서, 리턴되는 함수는 클로져 함수다.
      }

      var printMessage = run(addToDom('msg'), h1, echo);
      printMessage('Hello World');
    </script>

  </body>
</html>
